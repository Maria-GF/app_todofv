{"ast":null,"code":"import _regeneratorRuntime from \"/home/maria/maria/app_todofv/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/home/maria/maria/app_todofv/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _objectSpread from \"/home/maria/maria/app_todofv/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.regexp.test.js\";\nimport { mapState, mapActions } from 'pinia';\nimport userStore from '@/store/user';\nexport default {\n  name: 'AuthView',\n  data: function data() {\n    return {\n      userPassword: '',\n      userEmail: '',\n      logmessage: ''\n    };\n  },\n  computed: _objectSpread({}, mapState(userStore, ['user', 'errorMsg'])),\n  methods: _objectSpread(_objectSpread({}, mapActions(userStore, ['signIn', 'fetchUser'])), {}, {\n    validateUserEmail: function validateUserEmail(value) {\n      if (/^\\w+([.-]?\\w+)*@\\w+([.-]?\\w+)*(\\.\\w{2,3})+$/.test(value)) {\n        this.logmessage = '';\n      } else {\n        this.logmessage = 'Please, enter a valid email!';\n      }\n    },\n    validatePassword: function validatePassword(value) {\n      var difference = 6 - value.length;\n\n      if (value.length < 6) {\n        this.message = \"The password must have at least 6 characters! + \".concat(difference, \" + characters left\");\n      } else {\n        this.message = '';\n      }\n    },\n    validateUserPassword: function validateUserPassword(value) {\n      var difference = 6 - value.length;\n\n      if (value.length < 6) {\n        this.logmessage = \"The password must have 6 characters! + \".concat(difference, \" + characters left\");\n      } else {\n        this.logmessage = '';\n      }\n    },\n    handleSignIn: function handleSignIn() {\n      var _this = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return _this.signIn(_this.userEmail, _this.userPassword);\n\n              case 3:\n                _context.next = 8;\n                break;\n\n              case 5:\n                _context.prev = 5;\n                _context.t0 = _context[\"catch\"](0);\n                _this.logmessage = 'Please, check that your user name and password are correct or create an account below!';\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[0, 5]]);\n      }))();\n    }\n  }),\n  watch: {\n    user: function user() {\n      if (this.user) {\n        this.$router.push({\n          path: '/'\n        });\n      }\n    },\n    userEmail: function userEmail(value) {\n      // binding this to the data value in the email input\n      this.userEmail = value;\n      this.validateUserEmail(value);\n    },\n    userPassword: function userPassword(value) {\n      this.userPassword = value;\n      this.validateUserPassword(value);\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;AAgFA,SAASA,QAAT,EAAmBC,UAAnB,QAAqC,OAArC;AACA,OAAOC,SAAP,MAAsB,cAAtB;AAEA,eAAe;EACbC,IAAI,EAAE,UADO;EAEbC,IAFa,kBAEN;IACL,OAAO;MACLC,YAAY,EAAE,EADT;MAELC,SAAS,EAAE,EAFN;MAGLC,UAAU,EAAE;IAHP,CAAP;EAKD,CARY;EAUbC,QAAQ,oBACHR,QAAQ,CAACE,SAAD,EAAY,CAAC,MAAD,EAAS,UAAT,CAAZ,CADL,CAVK;EAabO,OAAO,kCACFR,UAAU,CAACC,SAAD,EAAY,CAAC,QAAD,EAAW,WAAX,CAAZ,CADR;IAELQ,iBAFK,6BAEaC,KAFb,EAEoB;MACvB,IAAI,8CAA8CC,IAA9C,CAAmDD,KAAnD,CAAJ,EAA+D;QAC7D,KAAKJ,UAAL,GAAkB,EAAlB;MACF,CAFA,MAEO;QACL,KAAKA,UAAL,GAAkB,8BAAlB;MACF;IACD,CARI;IASLM,gBATK,4BASYF,KATZ,EASmB;MACtB,IAAMG,UAAS,GAAI,IAAIH,KAAK,CAACI,MAA7B;;MACA,IAAIJ,KAAK,CAACI,MAAN,GAAe,CAAnB,EAAsB;QACpB,KAAKC,OAAL,6DAAkEF,UAAlE;MACF,CAFA,MAEO;QACL,KAAKE,OAAL,GAAe,EAAf;MACF;IACD,CAhBI;IAiBLC,oBAjBK,gCAiBgBN,KAjBhB,EAiBuB;MAC1B,IAAMG,UAAS,GAAI,IAAIH,KAAK,CAACI,MAA7B;;MACA,IAAIJ,KAAK,CAACI,MAAN,GAAe,CAAnB,EAAsB;QACpB,KAAKR,UAAL,oDAA4DO,UAA5D;MACF,CAFA,MAEO;QACL,KAAKP,UAAL,GAAkB,EAAlB;MACF;IACD,CAxBI;IAyBCW,YAzBD,0BAyBgB;MAAA;;MAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA;gBAAA,OAEX,KAAI,CAACC,MAAL,CAAY,KAAI,CAACb,SAAjB,EAA4B,KAAI,CAACD,YAAjC,CAFW;;cAAA;gBAAA;gBAAA;;cAAA;gBAAA;gBAAA;gBAIjB,KAAI,CAACE,UAAL,GAAkB,wFAAlB;;cAJiB;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAMpB;EA/BI,EAbM;EA8Cba,KAAK,EAAE;IACLC,IADK,kBACE;MACL,IAAI,KAAKA,IAAT,EAAe;QACb,KAAKC,OAAL,CAAaC,IAAb,CAAkB;UAAEC,IAAI,EAAE;QAAR,CAAlB;MACF;IACD,CALI;IAMLlB,SANK,qBAMKK,KANL,EAMY;MACf;MACA,KAAKL,SAAL,GAAiBK,KAAjB;MACA,KAAKD,iBAAL,CAAuBC,KAAvB;IACD,CAVI;IAWLN,YAXK,wBAWQM,KAXR,EAWe;MAClB,KAAKN,YAAL,GAAoBM,KAApB;MACA,KAAKM,oBAAL,CAA0BN,KAA1B;IACD;EAdI;AA9CM,CAAf","names":["mapState","mapActions","userStore","name","data","userPassword","userEmail","logmessage","computed","methods","validateUserEmail","value","test","validatePassword","difference","length","message","validateUserPassword","handleSignIn","signIn","watch","user","$router","push","path"],"sourceRoot":"","sources":["/home/maria/maria/app_todofv/src/views/AuthView.vue"],"sourcesContent":["<template>\n  <section class='vh-100' style='background-color: #DFF1ED'>\n    <div class='container py-5 h-100'>\n      <div class='row d-flex justify-content-center align-items-center h-100'>\n        <div class='col col-xl-10'>\n          <div class='cardauth' style='border-radius: 1rem'>\n            <div class='row g-0'>\n              <div class='authimg col-md-6 col-lg-5 d-none d-md-block'>\n              </div>\n              <div class='col-md-6 col-lg-7 d-flex align-items-center'>\n                <div class='card-body p-4 p-lg-5 text-black'>\n                  <form>\n                    <div class='d-flex align-items-center mb-3 pb-1'>\n                      <span class='h1 fw mb-0'\n                        >Welcome to your Daily Planner</span\n                      >\n                    </div>\n\n                    <h5 class='fw-normal mb-3 pb-3' style='letter-spacing: 1px'>\n                      Sign in to your account\n                    </h5>\n\n                    <div class='form-outline mb-4'>\n                      <label class='form-label' for='form2Example17'\n                        >Email address\n                        <input\n                          type='email'\n                          id='form2Example17'\n                          class='form-control form-control-lg'\n                          v-model='userEmail'\n                          placeholder='email@email.com'\n                          required\n                        />\n                      </label>\n                    </div>\n <div class='msg'>{{ logmessage }}</div>\n                    <div class='form-outline mb-4'>\n                      <label class='form-label' for='form2Example27'\n                        >Password\n                        <input\n                          type='password'\n                          id='form2Example27'\n                          class='form-control form-control-lg'\n                          v-model='userPassword'\n                          placeholder= 'Password'\n                        />\n                      </label>\n                    </div>\n                    <div class='pt-1 mb-4'>\n                      <button\n                        class='btn btn-primary btn-lg btn-block'\n                        type='button'\n                        @click='handleSignIn'\n                      >\n                        Sign In\n                      </button>\n                    </div>\n                    <label for='checkbox' class='checkbox-wrap checkbox-primary'\n                      >Remember Me\n                      <input type='checkbox' checked='' />\n                      <span class='checkmark'></span>\n                    </label>\n                    <p>\n                      Don't have an account?\n                      <router-link class='link-primary' to='/signup'\n                        >Register here</router-link\n                      >\n                    </p>\n                  </form>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </section>\n</template>\n\n<script>\nimport { mapState, mapActions } from 'pinia';\nimport userStore from '@/store/user';\n\nexport default {\n  name: 'AuthView',\n  data() {\n    return {\n      userPassword: '',\n      userEmail: '',\n      logmessage: '',\n    };\n  },\n\n  computed: {\n    ...mapState(userStore, ['user', 'errorMsg']),\n  },\n  methods: {\n    ...mapActions(userStore, ['signIn', 'fetchUser']),\n    validateUserEmail(value) {\n      if (/^\\w+([.-]?\\w+)*@\\w+([.-]?\\w+)*(\\.\\w{2,3})+$/.test(value)) {\n        this.logmessage = '';\n      } else {\n        this.logmessage = 'Please, enter a valid email!';\n      }\n    },\n    validatePassword(value) {\n      const difference = 6 - value.length;\n      if (value.length < 6) {\n        this.message = `The password must have at least 6 characters! + ${difference} + characters left`;\n      } else {\n        this.message = '';\n      }\n    },\n    validateUserPassword(value) {\n      const difference = 6 - value.length;\n      if (value.length < 6) {\n        this.logmessage = `The password must have 6 characters! + ${difference} + characters left`;\n      } else {\n        this.logmessage = '';\n      }\n    },\n    async handleSignIn() {\n      try {\n        await this.signIn(this.userEmail, this.userPassword);\n      } catch (error) {\n        this.logmessage = 'Please, check that your user name and password are correct or create an account below!';\n      }\n    },\n  },\n  watch: {\n    user() {\n      if (this.user) {\n        this.$router.push({ path: '/' });\n      }\n    },\n    userEmail(value) {\n      // binding this to the data value in the email input\n      this.userEmail = value;\n      this.validateUserEmail(value);\n    },\n    userPassword(value) {\n      this.userPassword = value;\n      this.validateUserPassword(value);\n    },\n  },\n};\n</script>\n<style>\n.cardauth {\n  background-color: whitesmoke;\n  background-repeat: no-repeat;\n  background-size: cover;\n}\n.msg {\n  color: red;\n  margin-top: 10px;\n}\np {\n  margin-top: 20px;\n}\n.checkbox-wrap {\n  margin-top: 10px;\n}\n.authimg {\n  background-image: url('../assets/clipo.jpg');\n  background-size: center;\n  background-repeat: no-repeat;\n  border-radius: 1rem 0 0 1rem;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}