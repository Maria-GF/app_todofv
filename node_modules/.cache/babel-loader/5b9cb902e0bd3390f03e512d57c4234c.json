{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, vShow as _vShow, withKeys as _withKeys, vModelCheckbox as _vModelCheckbox } from \"vue\";\nvar _hoisted_1 = {\n  \"class\": \"vh-100\",\n  style: {\n    \"\": \"#a6d7d7\"\n  }\n};\nvar _hoisted_2 = {\n  \"class\": \"container py-5 h-100\"\n};\nvar _hoisted_3 = {\n  \"class\": \"row d-flex justify-content-center align-items-center h-100\"\n};\nvar _hoisted_4 = {\n  \"class\": \"col col-xl-10\"\n};\nvar _hoisted_5 = {\n  \"class\": \"card homecard\",\n  style: {\n    \"border-radius\": \"1rem\"\n  }\n};\nvar _hoisted_6 = {\n  \"class\": \"card-body p-4 p-lg-5 text-black\"\n};\nvar _hoisted_7 = {\n  \"class\": \"home\"\n};\n\nvar _hoisted_8 = /*#__PURE__*/_createElementVNode(\"h1\", null, \"What's on for today?\", -1\n/* HOISTED */\n);\n\nvar _hoisted_9 = {\n  \"for\": \"newtask\"\n};\nvar _hoisted_10 = {\n  \"class\": \"tasktable\"\n};\n\nvar _hoisted_11 = /*#__PURE__*/_createElementVNode(\"tr\", null, [/*#__PURE__*/_createElementVNode(\"th\", null, \"Where\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Add date\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Done(✓)\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"What to do\")], -1\n/* HOISTED */\n);\n\nvar _hoisted_12 = {\n  \"for\": \"newTitle\"\n};\nvar _hoisted_13 = [\"onKeyup\", \"placeholder\"];\nvar _hoisted_14 = {\n  \"for\": \"taskStatus\"\n};\nvar _hoisted_15 = [\"onClick\", \"onUpdate:modelValue\"];\nvar _hoisted_16 = [\"onClick\"];\nvar _hoisted_17 = [\"onClick\"];\nvar _hoisted_18 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"section\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, [_hoisted_8, _createElementVNode(\"article\", null, [_createElementVNode(\"label\", _hoisted_9, [_withDirectives(_createElementVNode(\"input\", {\n    \"class\": \"form-control form-control\",\n    placeholder: \"actions\",\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = function ($event) {\n      return $data.newTask = $event;\n    })\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, $data.newTask]])]), _createElementVNode(\"button\", {\n    \"class\": \"btn btn-secondary\",\n    onClick: _cache[1] || (_cache[1] = function () {\n      return $options.handleAddTask && $options.handleAddTask.apply($options, arguments);\n    })\n  }, \" Add \")]), _createElementVNode(\"table\", _hoisted_10, [_hoisted_11, (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.tasks, function (task) {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: task.id\n    }, [_createElementVNode(\"td\", null, [_withDirectives(_createElementVNode(\"span\", null, _toDisplayString(task.title), 513\n    /* TEXT, NEED_PATCH */\n    ), [[_vShow, $data.editing !== task.id]]), _createElementVNode(\"label\", _hoisted_12, [_withDirectives(_createElementVNode(\"input\", {\n      onKeyup: _withKeys(function ($event) {\n        return $options.doneEdit(task.id);\n      }, [\"enter\"]),\n      \"onUpdate:modelValue\": _cache[2] || (_cache[2] = function ($event) {\n        return $data.newTitle = $event;\n      }),\n      placeholder: task.title\n    }, null, 40\n    /* PROPS, HYDRATE_EVENTS */\n    , _hoisted_13), [[_vModelText, $data.newTitle], [_vShow, $data.editing === task.id]])])]), _createElementVNode(\"td\", null, _toDisplayString($options.formatDate(task.inserted_at)), 1\n    /* TEXT */\n    ), _createElementVNode(\"td\", null, [_createElementVNode(\"label\", _hoisted_14, [_withDirectives(_createElementVNode(\"input\", {\n      onClick: function onClick($event) {\n        return $options.handleComplete(task.id, !task.is_complete);\n      },\n      name: \"taskStatus\",\n      type: \"checkbox\",\n      \"onUpdate:modelValue\": function onUpdateModelValue($event) {\n        return task.is_complete = $event;\n      }\n    }, null, 8\n    /* PROPS */\n    , _hoisted_15), [[_vModelCheckbox, task.is_complete]])])]), _createElementVNode(\"td\", null, [_withDirectives(_createElementVNode(\"button\", {\n      \"class\": \"btn btn-light btn-sm\",\n      onClick: function onClick($event) {\n        return $options.edit(task.id);\n      }\n    }, \" Edit \", 8\n    /* PROPS */\n    , _hoisted_16), [[_vShow, $data.editing !== task.id]]), _withDirectives(_createElementVNode(\"button\", {\n      \"class\": \"btn btn-secondary btn-sm\",\n      onClick: function onClick($event) {\n        return $options.doneEdit(task.id);\n      }\n    }, \" Save \", 8\n    /* PROPS */\n    , _hoisted_17), [[_vShow, $data.editing === task.id]]), _createElementVNode(\"button\", {\n      \"class\": \"btn btn-light btn-sm del\",\n      onClick: function onClick($event) {\n        return $options.handleDelete(task.id);\n      }\n    }, \" X \", 8\n    /* PROPS */\n    , _hoisted_18)])]);\n  }), 128\n  /* KEYED_FRAGMENT */\n  ))]), _createElementVNode(\"button\", {\n    \"class\": \"btn btn-light btn-sm signout\",\n    onClick: _cache[3] || (_cache[3] = function () {\n      return $options.handleSignOut && $options.handleSignOut.apply($options, arguments);\n    })\n  }, \" Sign Out \")])])])])])])]);\n}","map":{"version":3,"mappings":"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","names":["style","_createElementVNode","_createElementBlock","_hoisted_8","placeholder","type","$data","$event","onClick","$options","_hoisted_11","_Fragment","_renderList","_ctx","task","key","id","_toDisplayString","title","onKeyup","inserted_at","is_complete","name","_hoisted_16","_hoisted_17","_hoisted_18"],"sourceRoot":"","sources":["/home/maria/maria/app_todofv/src/views/HomeView.vue"],"sourcesContent":["<template>\n  <section class='vh-100' style='background-image;: #a6d7d7'>\n    <div class='container py-5 h-100'>\n      <div class='row d-flex justify-content-center align-items-center h-100'>\n        <div class='col col-xl-10'>\n          <div class='card homecard' style='border-radius: 1rem'>\n                <div class='card-body p-4 p-lg-5 text-black'>\n                  <div class='home'>\n                    <h1>What's on for today?</h1>\n                    <article>\n                      <label for='newtask'>\n                        <input\n                          class='form-control form-control'\n                          placeholder='actions'\n                          type='text'\n                          v-model='newTask'\n                        />\n                      </label>\n                      <button class='btn btn-secondary' @click='handleAddTask'>\n                        Add\n                      </button>\n                    </article>\n                    <table class='tasktable'>\n                      <tr>\n                        <th>Where</th>\n                        <th>Add date</th>\n                        <th>Done(✓)</th>\n                        <th>What to do</th>\n                      </tr>\n                      <tr v-for='task in tasks' :key='task.id'>\n                        <td>\n                          <span v-show='editing !== task.id'>{{\n                            task.title\n                          }}</span>\n                          <label for='newTitle'>\n                            <input\n                              @keyup.enter='doneEdit(task.id)'\n                              v-model='newTitle'\n                              v-show='editing === task.id'\n                              :placeholder='task.title'\n                            />\n                          </label>\n                        </td>\n                        <td>{{ formatDate(task.inserted_at) }}</td>\n                        <td>\n                          <label for='taskStatus'>\n                            <input\n                              @click='\n                                handleComplete(task.id, !task.is_complete)\n                              '\n                              name='taskStatus'\n                              type='checkbox'\n                              v-model='task.is_complete'\n                            />\n                          </label>\n                        </td>\n                        <td>\n                          <button\n                            class='btn btn-light btn-sm'\n                            v-show='editing !== task.id'\n                            @click='edit(task.id)'\n                          >\n                            Edit\n                          </button>\n                          <button\n                            class='btn btn-secondary btn-sm'\n                            v-show='editing === task.id'\n                            @click='doneEdit(task.id)'\n                          >\n                            Save\n                          </button>\n                          <button\n                            class='btn btn-light btn-sm del'\n                            @click='handleDelete(task.id)'\n                          >\n                            X\n                          </button>\n                        </td>\n                      </tr>\n                    </table>\n                    <button\n                      class='btn btn-light btn-sm signout'\n                      @click='handleSignOut'\n                    >\n                      Sign Out\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n  </section>\n</template>\n\n<script>\nimport { mapState, mapActions } from 'pinia';\nimport taskStore from '@/store/task';\nimport userStore from '@/store/user';\nimport moment from 'moment';\n\nexport default {\n  name: 'HomeView',\n  data() {\n    return {\n      newTask: '',\n      editing: false,\n      newTitle: '',\n      msg: '',\n    };\n  },\n\n  computed: {\n    ...mapState(taskStore, ['tasks']),\n    ...mapState(userStore, ['user']),\n  },\n  created() {\n    this.fetchTasks();\n  },\n  methods: {\n    ...mapActions(taskStore, [\n      'addTask',\n      'fetchTasks',\n      'editTask',\n      'deleteTask',\n      'markCompleted',\n    ]),\n    ...mapActions(userStore, ['signOut']),\n    async handleSignOut() {\n      try {\n        await this.signOut();\n        this.$router.push({ path: '/auth' });\n      } catch (error) {\n        this.msg = 'An error has occured';\n      }\n    },\n    handleAddTask() {\n      this.addTask(this.newTask, this.user.id);\n      this.newTask = '';\n    },\n    edit(taskId) {\n      this.editing = taskId;\n    },\n    doneEdit(taskId) {\n      this.editTask(taskId, this.newTitle);\n      this.editing = false;\n      this.newTitle = '';\n    },\n    handleComplete(taskId, taskComplete) {\n      this.markCompleted(taskId, taskComplete);\n    },\n    handleDelete(taskId) {\n      this.deleteTask(taskId);\n    },\n    formatDate(date) {\n      return moment(date).format('DD/MM/yyyy');\n    },\n  },\n};\n</script>\n<style>\n.homecard {\n  box-shadow: 5px 5px 15px 5px #667A6F;\n}\n.tasktable {\n  width: 80%;\n  margin-top: 40px;\n}\n.home {\n  display: flex;\n  flex-flow: column;\n  justify-content: center;\n  align-items: center;\n}\n.signout {\n  position:relative;\n  top: 1pc;\n}\nh1 {\n  margin-bottom: 50px;\n}\n.btn-secondary {\n  margin-left: 20px;\n  background-color: #9a616d;\n  border:#9a616d;\n}\n.del {\n  color: red;\n}\n@media (max-width: 768px) {\n   .tasktable {\n     font-size: 14px;\n     width: 110%;\n   }\n   .btn-sm {\n    font-size: 10px;\n   }\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}