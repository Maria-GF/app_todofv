{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, vShow as _vShow, withKeys as _withKeys, vModelCheckbox as _vModelCheckbox } from \"vue\";\nconst _hoisted_1 = {\n  class: \"vh-100\",\n  style: {\n    \"background-color\": \"#9a616d\"\n  }\n};\nconst _hoisted_2 = {\n  class: \"container py-5 h-100\"\n};\nconst _hoisted_3 = {\n  class: \"row d-flex justify-content-center align-items-center h-100\"\n};\nconst _hoisted_4 = {\n  class: \"col col-xl-10\"\n};\nconst _hoisted_5 = {\n  class: \"card homecard\",\n  style: {\n    \"border-radius\": \"1rem\"\n  }\n};\nconst _hoisted_6 = {\n  class: \"card-body p-4 p-lg-5 text-black\"\n};\nconst _hoisted_7 = {\n  class: \"home\"\n};\n\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"h1\", null, \"My Destinations\", -1\n/* HOISTED */\n);\n\nconst _hoisted_9 = {\n  for: \"newtask\"\n};\nconst _hoisted_10 = {\n  class: \"tasktable\"\n};\n\nconst _hoisted_11 = /*#__PURE__*/_createElementVNode(\"tr\", null, [/*#__PURE__*/_createElementVNode(\"th\", null, \"Where\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Add date\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Done(✓)\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"What to do\")], -1\n/* HOISTED */\n);\n\nconst _hoisted_12 = {\n  for: \"newTitle\"\n};\nconst _hoisted_13 = [\"onKeyup\", \"placeholder\"];\nconst _hoisted_14 = {\n  for: \"taskStatus\"\n};\nconst _hoisted_15 = [\"onClick\", \"onUpdate:modelValue\"];\nconst _hoisted_16 = [\"onClick\"];\nconst _hoisted_17 = [\"onClick\"];\nconst _hoisted_18 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"section\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, [_hoisted_8, _createElementVNode(\"article\", null, [_createElementVNode(\"label\", _hoisted_9, [_withDirectives(_createElementVNode(\"input\", {\n    class: \"form-control form-control\",\n    placeholder: \"New destination\",\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.newTask = $event)\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, $data.newTask]])]), _createElementVNode(\"button\", {\n    class: \"btn btn-secondary\",\n    onClick: _cache[1] || (_cache[1] = (...args) => $options.handleAddTask && $options.handleAddTask(...args))\n  }, \" Add \")]), _createElementVNode(\"table\", _hoisted_10, [_hoisted_11, (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.tasks, task => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: task.id\n    }, [_createElementVNode(\"td\", null, [_withDirectives(_createElementVNode(\"span\", null, _toDisplayString(task.title), 513\n    /* TEXT, NEED_PATCH */\n    ), [[_vShow, $data.editing !== task.id]]), _createElementVNode(\"label\", _hoisted_12, [_withDirectives(_createElementVNode(\"input\", {\n      onKeyup: _withKeys($event => $options.doneEdit(task.id), [\"enter\"]),\n      \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.newTitle = $event),\n      placeholder: task.title\n    }, null, 40\n    /* PROPS, HYDRATE_EVENTS */\n    , _hoisted_13), [[_vModelText, $data.newTitle], [_vShow, $data.editing === task.id]])])]), _createElementVNode(\"td\", null, _toDisplayString($options.formatDate(task.inserted_at)), 1\n    /* TEXT */\n    ), _createElementVNode(\"td\", null, [_createElementVNode(\"label\", _hoisted_14, [_withDirectives(_createElementVNode(\"input\", {\n      onClick: $event => $options.handleComplete(task.id, !task.is_complete),\n      name: \"taskStatus\",\n      type: \"checkbox\",\n      \"onUpdate:modelValue\": $event => task.is_complete = $event\n    }, null, 8\n    /* PROPS */\n    , _hoisted_15), [[_vModelCheckbox, task.is_complete]])])]), _createElementVNode(\"td\", null, [_withDirectives(_createElementVNode(\"button\", {\n      class: \"btn btn-light btn-sm\",\n      onClick: $event => $options.edit(task.id)\n    }, \" Edit \", 8\n    /* PROPS */\n    , _hoisted_16), [[_vShow, $data.editing !== task.id]]), _withDirectives(_createElementVNode(\"button\", {\n      class: \"btn btn-secondary btn-sm\",\n      onClick: $event => $options.doneEdit(task.id)\n    }, \" Save \", 8\n    /* PROPS */\n    , _hoisted_17), [[_vShow, $data.editing === task.id]]), _createElementVNode(\"button\", {\n      class: \"btn btn-light btn-sm del\",\n      onClick: $event => $options.handleDelete(task.id)\n    }, \" X \", 8\n    /* PROPS */\n    , _hoisted_18)])]);\n  }), 128\n  /* KEYED_FRAGMENT */\n  ))]), _createElementVNode(\"button\", {\n    class: \"btn btn-light btn-sm signout\",\n    onClick: _cache[3] || (_cache[3] = (...args) => $options.handleSignOut && $options.handleSignOut(...args))\n  }, \" Sign Out \")])])])])])])]);\n}","map":{"version":3,"mappings":"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","names":["class","style","_createElementVNode","for","_createElementBlock","_hoisted_8","placeholder","type","$data","$event","onClick","$options","_hoisted_11","_Fragment","_renderList","_ctx","task","key","id","_toDisplayString","title","onKeyup","inserted_at","is_complete","name","_hoisted_16","_hoisted_17","_hoisted_18"],"sourceRoot":"","sources":["/home/maria/maria/ironhack/app-todo-new/new-todo-project/todolist/src/views/HomeView.vue"],"sourcesContent":["<template>\n  <section class='vh-100' style='background-color: #9a616d'>\n    <div class='container py-5 h-100'>\n      <div class='row d-flex justify-content-center align-items-center h-100'>\n        <div class='col col-xl-10'>\n          <div class='card homecard' style='border-radius: 1rem'>\n                <div class='card-body p-4 p-lg-5 text-black'>\n                  <div class='home'>\n                    <h1>My Destinations</h1>\n                    <article>\n                      <label for='newtask'>\n                        <input\n                          class='form-control form-control'\n                          placeholder='New destination'\n                          type='text'\n                          v-model='newTask'\n                        />\n                      </label>\n                      <button class='btn btn-secondary' @click='handleAddTask'>\n                        Add\n                      </button>\n                    </article>\n                    <table class='tasktable'>\n                      <tr>\n                        <th>Where</th>\n                        <th>Add date</th>\n                        <th>Done(✓)</th>\n                        <th>What to do</th>\n                      </tr>\n                      <tr v-for='task in tasks' :key='task.id'>\n                        <td>\n                          <span v-show='editing !== task.id'>{{\n                            task.title\n                          }}</span>\n                          <label for='newTitle'>\n                            <input\n                              @keyup.enter='doneEdit(task.id)'\n                              v-model='newTitle'\n                              v-show='editing === task.id'\n                              :placeholder='task.title'\n                            />\n                          </label>\n                        </td>\n                        <td>{{ formatDate(task.inserted_at) }}</td>\n                        <td>\n                          <label for='taskStatus'>\n                            <input\n                              @click='\n                                handleComplete(task.id, !task.is_complete)\n                              '\n                              name='taskStatus'\n                              type='checkbox'\n                              v-model='task.is_complete'\n                            />\n                          </label>\n                        </td>\n                        <td>\n                          <button\n                            class='btn btn-light btn-sm'\n                            v-show='editing !== task.id'\n                            @click='edit(task.id)'\n                          >\n                            Edit\n                          </button>\n                          <button\n                            class='btn btn-secondary btn-sm'\n                            v-show='editing === task.id'\n                            @click='doneEdit(task.id)'\n                          >\n                            Save\n                          </button>\n                          <button\n                            class='btn btn-light btn-sm del'\n                            @click='handleDelete(task.id)'\n                          >\n                            X\n                          </button>\n                        </td>\n                      </tr>\n                    </table>\n                    <button\n                      class='btn btn-light btn-sm signout'\n                      @click='handleSignOut'\n                    >\n                      Sign Out\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n  </section>\n</template>\n\n<script>\nimport { mapState, mapActions } from 'pinia';\nimport taskStore from '@/store/task';\nimport userStore from '@/store/user';\nimport moment from 'moment';\n\nexport default {\n  name: 'HomeView',\n  data() {\n    return {\n      newTask: '',\n      editing: false,\n      newTitle: '',\n      msg: '',\n    };\n  },\n\n  computed: {\n    ...mapState(taskStore, ['tasks']),\n    ...mapState(userStore, ['user']),\n  },\n  created() {\n    this.fetchTasks();\n  },\n  methods: {\n    ...mapActions(taskStore, [\n      'addTask',\n      'fetchTasks',\n      'editTask',\n      'deleteTask',\n      'markCompleted',\n    ]),\n    ...mapActions(userStore, ['signOut']),\n    async handleSignOut() {\n      try {\n        await this.signOut();\n        this.$router.push({ path: '/auth' });\n      } catch (error) {\n        this.msg = 'An error has occured';\n      }\n    },\n    handleAddTask() {\n      this.addTask(this.newTask, this.user.id);\n      this.newTask = '';\n    },\n    edit(taskId) {\n      this.editing = taskId;\n    },\n    doneEdit(taskId) {\n      this.editTask(taskId, this.newTitle);\n      this.editing = false;\n      this.newTitle = '';\n    },\n    handleComplete(taskId, taskComplete) {\n      this.markCompleted(taskId, taskComplete);\n    },\n    handleDelete(taskId) {\n      this.deleteTask(taskId);\n    },\n    formatDate(date) {\n      return moment(date).format('DD/MM/yyyy');\n    },\n  },\n};\n</script>\n<style>\n.tasktable {\n  width: 80%;\n  margin-top: 40px;\n}\n.home {\n  display: flex;\n  flex-flow: column;\n  justify-content: center;\n  align-items: center;\n}\n.signout {\n  position:relative;\n  top: 1pc;\n}\nh1 {\n  margin-bottom: 50px;\n}\n.btn-secondary {\n  margin-left: 20px;\n  background-color: #9a616d;\n  border:#9a616d;\n}\n.del {\n  color: red;\n}\n@media (max-width: 768px) {\n   .tasktable {\n     font-size: 14px;\n     width: 110%;\n   }\n   .btn-sm {\n    font-size: 10px;\n   }\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}