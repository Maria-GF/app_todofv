{"ast":null,"code":"import { mapState, mapActions } from 'pinia';\nimport userStore from '@/store/user';\nexport default {\n  name: 'AuthView',\n\n  data() {\n    return {\n      userPassword: '',\n      userEmail: '',\n      logmessage: ''\n    };\n  },\n\n  computed: { ...mapState(userStore, ['user', 'errorMsg'])\n  },\n  methods: { ...mapActions(userStore, ['signIn', 'fetchUser']),\n\n    validateUserEmail(value) {\n      if (/^\\w+([.-]?\\w+)*@\\w+([.-]?\\w+)*(\\.\\w{2,3})+$/.test(value)) {\n        this.logmessage = '';\n      } else {\n        this.logmessage = 'Please, enter a valid email!';\n      }\n    },\n\n    validatePassword(value) {\n      const difference = 6 - value.length;\n\n      if (value.length < 6) {\n        this.message = `The password must have at least 6 characters! + ${difference} + characters left`;\n      } else {\n        this.message = '';\n      }\n    },\n\n    validateUserPassword(value) {\n      const difference = 6 - value.length;\n\n      if (value.length < 6) {\n        this.logmessage = `The password must have 6 characters! + ${difference} + characters left`;\n      } else {\n        this.logmessage = '';\n      }\n    },\n\n    async handleSignIn() {\n      try {\n        await this.signIn(this.userEmail, this.userPassword);\n      } catch (error) {\n        this.logmessage = 'Please, check that your user name and password are correct or create an account below!';\n      }\n    }\n\n  },\n  watch: {\n    user() {\n      if (this.user) {\n        this.$router.push({\n          path: '/'\n        });\n      }\n    },\n\n    userEmail(value) {\n      // binding this to the data value in the email input\n      this.userEmail = value;\n      this.validateUserEmail(value);\n    },\n\n    userPassword(value) {\n      this.userPassword = value;\n      this.validateUserPassword(value);\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAgFA,SAASA,QAAT,EAAmBC,UAAnB,QAAqC,OAArC;AACA,OAAOC,SAAP,MAAsB,cAAtB;AAEA,eAAe;EACbC,IAAI,EAAE,UADO;;EAEbC,IAAI,GAAG;IACL,OAAO;MACLC,YAAY,EAAE,EADT;MAELC,SAAS,EAAE,EAFN;MAGLC,UAAU,EAAE;IAHP,CAAP;EAKD,CARY;;EAUbC,QAAQ,EAAE,EACR,GAAGR,QAAQ,CAACE,SAAD,EAAY,CAAC,MAAD,EAAS,UAAT,CAAZ;EADH,CAVG;EAabO,OAAO,EAAE,EACP,GAAGR,UAAU,CAACC,SAAD,EAAY,CAAC,QAAD,EAAW,WAAX,CAAZ,CADN;;IAEPQ,iBAAiB,CAACC,KAAD,EAAQ;MACvB,IAAI,8CAA8CC,IAA9C,CAAmDD,KAAnD,CAAJ,EAA+D;QAC7D,KAAKJ,UAAL,GAAkB,EAAlB;MACF,CAFA,MAEO;QACL,KAAKA,UAAL,GAAkB,8BAAlB;MACF;IACD,CARM;;IASPM,gBAAgB,CAACF,KAAD,EAAQ;MACtB,MAAMG,UAAS,GAAI,IAAIH,KAAK,CAACI,MAA7B;;MACA,IAAIJ,KAAK,CAACI,MAAN,GAAe,CAAnB,EAAsB;QACpB,KAAKC,OAAL,GAAgB,mDAAkDF,UAAU,oBAA5E;MACF,CAFA,MAEO;QACL,KAAKE,OAAL,GAAe,EAAf;MACF;IACD,CAhBM;;IAiBPC,oBAAoB,CAACN,KAAD,EAAQ;MAC1B,MAAMG,UAAS,GAAI,IAAIH,KAAK,CAACI,MAA7B;;MACA,IAAIJ,KAAK,CAACI,MAAN,GAAe,CAAnB,EAAsB;QACpB,KAAKR,UAAL,GAAmB,0CAAyCO,UAAU,oBAAtE;MACF,CAFA,MAEO;QACL,KAAKP,UAAL,GAAkB,EAAlB;MACF;IACD,CAxBM;;IAyBP,MAAMW,YAAN,GAAqB;MACnB,IAAI;QACF,MAAM,KAAKC,MAAL,CAAY,KAAKb,SAAjB,EAA4B,KAAKD,YAAjC,CAAN;MACF,CAFA,CAEE,OAAOe,KAAP,EAAc;QACd,KAAKb,UAAL,GAAkB,wFAAlB;MACF;IACD;;EA/BM,CAbI;EA8Cbc,KAAK,EAAE;IACLC,IAAI,GAAG;MACL,IAAI,KAAKA,IAAT,EAAe;QACb,KAAKC,OAAL,CAAaC,IAAb,CAAkB;UAAEC,IAAI,EAAE;QAAR,CAAlB;MACF;IACD,CALI;;IAMLnB,SAAS,CAACK,KAAD,EAAQ;MACf;MACA,KAAKL,SAAL,GAAiBK,KAAjB;MACA,KAAKD,iBAAL,CAAuBC,KAAvB;IACD,CAVI;;IAWLN,YAAY,CAACM,KAAD,EAAQ;MAClB,KAAKN,YAAL,GAAoBM,KAApB;MACA,KAAKM,oBAAL,CAA0BN,KAA1B;IACD;;EAdI;AA9CM,CAAf","names":["mapState","mapActions","userStore","name","data","userPassword","userEmail","logmessage","computed","methods","validateUserEmail","value","test","validatePassword","difference","length","message","validateUserPassword","handleSignIn","signIn","error","watch","user","$router","push","path"],"sourceRoot":"","sources":["/home/maria/maria/ironhack/app-todo-new/new-todo-project/todolist/src/views/AuthView.vue"],"sourcesContent":["<template>\n  <section class='vh-100' style='background-color: #DFF1ED'>\n    <div class='container py-5 h-100'>\n      <div class='row d-flex justify-content-center align-items-center h-100'>\n        <div class='col col-xl-10'>\n          <div class='cardauth' style='border-radius: 1rem'>\n            <div class='row g-0'>\n              <div class='authimg col-md-6 col-lg-5 d-none d-md-block'>\n              </div>\n              <div class='col-md-6 col-lg-7 d-flex align-items-center'>\n                <div class='card-body p-4 p-lg-5 text-black'>\n                  <form>\n                    <div class='d-flex align-items-center mb-3 pb-1'>\n                      <span class='h1 fw mb-0'\n                        >Welcome to your Daily Planner</span\n                      >\n                    </div>\n\n                    <h5 class='fw-normal mb-3 pb-3' style='letter-spacing: 1px'>\n                      Sign in to your account\n                    </h5>\n\n                    <div class='form-outline mb-4'>\n                      <label class='form-label' for='form2Example17'\n                        >Email address\n                        <input\n                          type='email'\n                          id='form2Example17'\n                          class='form-control form-control-lg'\n                          v-model='userEmail'\n                          placeholder='example@gmail.com'\n                          required\n                        />\n                      </label>\n                    </div>\n <div class='msg'>{{ logmessage }}</div>\n                    <div class='form-outline mb-4'>\n                      <label class='form-label' for='form2Example27'\n                        >Password\n                        <input\n                          type='password'\n                          id='form2Example27'\n                          class='form-control form-control-lg'\n                          v-model='userPassword'\n                          placeholder='your password'\n                        />\n                      </label>\n                    </div>\n                    <div class='pt-1 mb-4'>\n                      <button\n                        class='btn btn-primary btn-lg btn-block'\n                        type='button'\n                        @click='handleSignIn'\n                      >\n                        Sign In\n                      </button>\n                    </div>\n                    <label for='checkbox' class='checkbox-wrap checkbox-primary'\n                      >Remember Me\n                      <input type='checkbox' checked='' />\n                      <span class='checkmark'></span>\n                    </label>\n                    <p>\n                      Don't have an account?\n                      <router-link class='link-primary' to='/signup'\n                        >Register here</router-link\n                      >\n                    </p>\n                  </form>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </section>\n</template>\n\n<script>\nimport { mapState, mapActions } from 'pinia';\nimport userStore from '@/store/user';\n\nexport default {\n  name: 'AuthView',\n  data() {\n    return {\n      userPassword: '',\n      userEmail: '',\n      logmessage: '',\n    };\n  },\n\n  computed: {\n    ...mapState(userStore, ['user', 'errorMsg']),\n  },\n  methods: {\n    ...mapActions(userStore, ['signIn', 'fetchUser']),\n    validateUserEmail(value) {\n      if (/^\\w+([.-]?\\w+)*@\\w+([.-]?\\w+)*(\\.\\w{2,3})+$/.test(value)) {\n        this.logmessage = '';\n      } else {\n        this.logmessage = 'Please, enter a valid email!';\n      }\n    },\n    validatePassword(value) {\n      const difference = 6 - value.length;\n      if (value.length < 6) {\n        this.message = `The password must have at least 6 characters! + ${difference} + characters left`;\n      } else {\n        this.message = '';\n      }\n    },\n    validateUserPassword(value) {\n      const difference = 6 - value.length;\n      if (value.length < 6) {\n        this.logmessage = `The password must have 6 characters! + ${difference} + characters left`;\n      } else {\n        this.logmessage = '';\n      }\n    },\n    async handleSignIn() {\n      try {\n        await this.signIn(this.userEmail, this.userPassword);\n      } catch (error) {\n        this.logmessage = 'Please, check that your user name and password are correct or create an account below!';\n      }\n    },\n  },\n  watch: {\n    user() {\n      if (this.user) {\n        this.$router.push({ path: '/' });\n      }\n    },\n    userEmail(value) {\n      // binding this to the data value in the email input\n      this.userEmail = value;\n      this.validateUserEmail(value);\n    },\n    userPassword(value) {\n      this.userPassword = value;\n      this.validateUserPassword(value);\n    },\n  },\n};\n</script>\n<style>\n.form-label placeholder {\n  font si\n}\n.cardauth {\n  background-color: whitesmoke;\n  background-repeat: no-repeat;\n  background-size: cover;\n}\n.msg {\n  color: red;\n  margin-top: 10px;\n}\np {\n  margin-top: 20px;\n}\n.checkbox-wrap {\n  margin-top: 10px;\n}\n.authimg {\n  background-image: url('../assets/pens.webp');\n  background-size: cover;\n  background-repeat: no-repeat;\n  border-radius: 1rem 0 0 1rem;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}