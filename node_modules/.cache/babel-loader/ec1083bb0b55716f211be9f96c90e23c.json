{"ast":null,"code":"import _regeneratorRuntime from \"/home/maria/maria/app_todofv/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/home/maria/maria/app_todofv/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _objectSpread from \"/home/maria/maria/app_todofv/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport { mapState, mapActions } from 'pinia';\nimport taskStore from '@/store/task';\nimport userStore from '@/store/user';\nimport moment from 'moment';\nexport default {\n  name: 'HomeView',\n  data: function data() {\n    return {\n      newTask: '',\n      editing: false,\n      newTitle: '',\n      msg: ''\n    };\n  },\n  computed: _objectSpread(_objectSpread({}, mapState(taskStore, ['tasks'])), mapState(userStore, ['user'])),\n  created: function created() {\n    this.fetchTasks();\n  },\n  methods: _objectSpread(_objectSpread(_objectSpread({}, mapActions(taskStore, ['addTask', 'fetchTasks', 'editTask', 'deleteTask', 'markCompleted'])), mapActions(userStore, ['signOut'])), {}, {\n    handleSignOut: function handleSignOut() {\n      var _this = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return _this.signOut();\n\n              case 3:\n                _this.$router.push({\n                  path: '/auth'\n                });\n\n                _context.next = 9;\n                break;\n\n              case 6:\n                _context.prev = 6;\n                _context.t0 = _context[\"catch\"](0);\n                _this.msg = 'An error has occured';\n\n              case 9:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[0, 6]]);\n      }))();\n    },\n    handleAddTask: function handleAddTask() {\n      this.addTask(this.newTask, this.user.id);\n      this.newTask = '';\n    },\n    edit: function edit(taskId) {\n      this.editing = taskId;\n    },\n    doneEdit: function doneEdit(taskId) {\n      this.editTask(taskId, this.newTitle);\n      this.editing = false;\n      this.newTitle = '';\n    },\n    handleComplete: function handleComplete(taskId, taskComplete) {\n      this.markCompleted(taskId, taskComplete);\n    },\n    handleDelete: function handleDelete(taskId) {\n      this.deleteTask(taskId);\n    },\n    formatDate: function formatDate(date) {\n      return moment(date).format('DD/MM/yyyy');\n    }\n  })\n};","map":{"version":3,"mappings":";;;AAgGA,SAASA,QAAT,EAAmBC,UAAnB,QAAqC,OAArC;AACA,OAAOC,SAAP,MAAsB,cAAtB;AACA,OAAOC,SAAP,MAAsB,cAAtB;AACA,OAAOC,MAAP,MAAmB,QAAnB;AAEA,eAAe;EACbC,IAAI,EAAE,UADO;EAEbC,IAFa,kBAEN;IACL,OAAO;MACLC,OAAO,EAAE,EADJ;MAELC,OAAO,EAAE,KAFJ;MAGLC,QAAQ,EAAE,EAHL;MAILC,GAAG,EAAE;IAJA,CAAP;EAMD,CATY;EAWbC,QAAQ,kCACHX,QAAQ,CAACE,SAAD,EAAY,CAAC,OAAD,CAAZ,CADL,GAEHF,QAAQ,CAACG,SAAD,EAAY,CAAC,MAAD,CAAZ,CAFL,CAXK;EAebS,OAfa,qBAeH;IACR,KAAKC,UAAL;EACD,CAjBY;EAkBbC,OAAO,gDACFb,UAAU,CAACC,SAAD,EAAY,CACvB,SADuB,EAEvB,YAFuB,EAGvB,UAHuB,EAIvB,YAJuB,EAKvB,eALuB,CAAZ,CADR,GAQFD,UAAU,CAACE,SAAD,EAAY,CAAC,SAAD,CAAZ,CARR;IASCY,aATD,2BASiB;MAAA;;MAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA;gBAAA,OAEZ,KAAI,CAACC,OAAL,EAFY;;cAAA;gBAGlB,KAAI,CAACC,OAAL,CAAaC,IAAb,CAAkB;kBAAEC,IAAI,EAAE;gBAAR,CAAlB;;gBAHkB;gBAAA;;cAAA;gBAAA;gBAAA;gBAKlB,KAAI,CAACT,GAAL,GAAW,sBAAX;;cALkB;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAOrB,CAhBI;IAiBLU,aAjBK,2BAiBW;MACd,KAAKC,OAAL,CAAa,KAAKd,OAAlB,EAA2B,KAAKe,IAAL,CAAUC,EAArC;MACA,KAAKhB,OAAL,GAAe,EAAf;IACD,CApBI;IAqBLiB,IArBK,gBAqBAC,MArBA,EAqBQ;MACX,KAAKjB,OAAL,GAAeiB,MAAf;IACD,CAvBI;IAwBLC,QAxBK,oBAwBID,MAxBJ,EAwBY;MACf,KAAKE,QAAL,CAAcF,MAAd,EAAsB,KAAKhB,QAA3B;MACA,KAAKD,OAAL,GAAe,KAAf;MACA,KAAKC,QAAL,GAAgB,EAAhB;IACD,CA5BI;IA6BLmB,cA7BK,0BA6BUH,MA7BV,EA6BkBI,YA7BlB,EA6BgC;MACnC,KAAKC,aAAL,CAAmBL,MAAnB,EAA2BI,YAA3B;IACD,CA/BI;IAgCLE,YAhCK,wBAgCQN,MAhCR,EAgCgB;MACnB,KAAKO,UAAL,CAAgBP,MAAhB;IACD,CAlCI;IAmCLQ,UAnCK,sBAmCMC,IAnCN,EAmCY;MACf,OAAO9B,MAAM,CAAC8B,IAAD,CAAN,CAAaC,MAAb,CAAoB,YAApB,CAAP;IACD;EArCI;AAlBM,CAAf","names":["mapState","mapActions","taskStore","userStore","moment","name","data","newTask","editing","newTitle","msg","computed","created","fetchTasks","methods","handleSignOut","signOut","$router","push","path","handleAddTask","addTask","user","id","edit","taskId","doneEdit","editTask","handleComplete","taskComplete","markCompleted","handleDelete","deleteTask","formatDate","date","format"],"sourceRoot":"","sources":["/home/maria/maria/app_todofv/src/views/HomeView.vue"],"sourcesContent":["<template>\n  <section class='vh-100' >\n    <div class='container py-5 h-100'>\n      <div class='row d-flex justify-content-center align-items-center h-100'>\n        <div class='col col-xl-10'>\n          <div class='card homecard' style='border-radius: 1rem'>\n                <div class='card-body p-4 p-lg-5 text-black'>\n                  <div class='home'>\n                    <h1>What's on for today?</h1>\n                    <article>\n                      <label for='newtask'>\n                        <input\n                          class='form-control form-control'\n                          placeholder='actions'\n                          type='text'\n                          v-model='newTask'\n                        />\n                      </label>\n                      <button class='btn btn-secondary' @click='handleAddTask'>\n                        Add\n                      </button>\n                    </article>\n                    <table class='tasktable'>\n                      <tr>\n                        <th>Where</th>\n                        <th>Add date</th>\n                        <th>Done(âœ“)</th>\n                        <th>What to do</th>\n                      </tr>\n                      <tr v-for='task in tasks' :key='task.id'>\n                        <td>\n                          <span v-show='editing !== task.id'>{{\n                            task.title\n                          }}</span>\n                          <label for='newTitle'>\n                            <input\n                              @keyup.enter='doneEdit(task.id)'\n                              v-model='newTitle'\n                              v-show='editing === task.id'\n                              :placeholder='task.title'\n                            />\n                          </label>\n                        </td>\n                        <td>{{ formatDate(task.inserted_at) }}</td>\n                        <td>\n                          <label for='taskStatus'>\n                            <input\n                              @click='\n                                handleComplete(task.id, !task.is_complete)\n                              '\n                              name='taskStatus'\n                              type='checkbox'\n                              v-model='task.is_complete'\n                            />\n                          </label>\n                        </td>\n                        <td>\n                          <button\n                            class='btn btn-light btn-sm'\n                            v-show='editing !== task.id'\n                            @click='edit(task.id)'\n                          >\n                            Edit\n                          </button>\n                          <button\n                            class='btn btn-secondary btn-sm'\n                            v-show='editing === task.id'\n                            @click='doneEdit(task.id)'\n                          >\n                            Save\n                          </button>\n                          <button\n                            class='btn btn-light btn-sm del'\n                            @click='handleDelete(task.id)'\n                          >\n                            X\n                          </button>\n                        </td>\n                      </tr>\n                    </table>\n                    <button\n                      class='btn btn-light btn-sm signout'\n                      @click='handleSignOut'\n                    >\n                      Sign Out\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n  </section>\n</template>\n\n<script>\nimport { mapState, mapActions } from 'pinia';\nimport taskStore from '@/store/task';\nimport userStore from '@/store/user';\nimport moment from 'moment';\n\nexport default {\n  name: 'HomeView',\n  data() {\n    return {\n      newTask: '',\n      editing: false,\n      newTitle: '',\n      msg: '',\n    };\n  },\n\n  computed: {\n    ...mapState(taskStore, ['tasks']),\n    ...mapState(userStore, ['user']),\n  },\n  created() {\n    this.fetchTasks();\n  },\n  methods: {\n    ...mapActions(taskStore, [\n      'addTask',\n      'fetchTasks',\n      'editTask',\n      'deleteTask',\n      'markCompleted',\n    ]),\n    ...mapActions(userStore, ['signOut']),\n    async handleSignOut() {\n      try {\n        await this.signOut();\n        this.$router.push({ path: '/auth' });\n      } catch (error) {\n        this.msg = 'An error has occured';\n      }\n    },\n    handleAddTask() {\n      this.addTask(this.newTask, this.user.id);\n      this.newTask = '';\n    },\n    edit(taskId) {\n      this.editing = taskId;\n    },\n    doneEdit(taskId) {\n      this.editTask(taskId, this.newTitle);\n      this.editing = false;\n      this.newTitle = '';\n    },\n    handleComplete(taskId, taskComplete) {\n      this.markCompleted(taskId, taskComplete);\n    },\n    handleDelete(taskId) {\n      this.deleteTask(taskId);\n    },\n    formatDate(date) {\n      return moment(date).format('DD/MM/yyyy');\n    },\n  },\n};\n</script>\n<style>\nbody{\n  \n  background-image: url(../assets/azulblanco.jpg)'\n}\n\n.homecard {\nbox-shadow: 5px 5px 15px 5px #667A6F;\n}\n.tasktable {\n  width: 80%;\n  margin-top: 40px;\n}\n.home {\n  display: flex;\n  flex-flow: column;\n  justify-content: center;\n  align-items: center;\n}\n.signout {\n  position:relative;\n  top: 1pc;\n}\nh1 {\n  margin-bottom: 50px;\n}\n.btn-secondary {\n  margin-left: 20px;\n  background-color: #9a616d;\n  border:#9a616d;\n}\n.del {\n  color: red;\n}\n@media (max-width: 768px) {\n   .tasktable {\n     font-size: 14px;\n     width: 110%;\n   }\n   .btn-sm {\n    font-size: 10px;\n   }\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}